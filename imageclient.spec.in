# -*- rpm-spec -*-
Buildroot: @SMARACT_BUILD_DIR@/_CPack_Packages/Linux/RPM/@CPACK_PACKAGE_FILE_NAME@
Summary:        A TANGO imageclient with Qt4 interface
Name:           @CPACK_PACKAGE_NAME@
Version:        @CPACK_PACKAGE_VERSION@
Release:        @CPACK_PACKAGE_RELEASE@
License:        GPL
Group:          Productivity/Graphics/Viewers
Vendor:         @CPACK_PACKAGE_VENDOR@
Prefix:         @CPACK_PACKAGING_INSTALL_PREFIX@
Requires:       opencv >= 2.2
Requires:       libqt4 >= 4.6
Requires:       tango >= 7.2.6

#p define prefix /usr/local
%define _rpmdir @SMARACT_BUILD_DIR@/_CPack_Packages/Linux/RPM
%define _rpmfilename @CPACK_PACKAGE_FILE_NAME@.rpm
%define _unpackaged_files_terminate_build 0
%define _topdir @SMARACT_BUILD_DIR@/_CPack_Packages/Linux/RPM

%description
A image viewer and manipulator which connects to Tango Devices and specific Image-Attributes.
The viewer can display images in various formats. You can set a crosshair and save snapshots.

# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.
%prep
mv $RPM_BUILD_ROOT @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot

%install
if [ -e $RPM_BUILD_ROOT ];
then
  rm -Rf $RPM_BUILD_ROOT
fi
mv "@CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot" $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
@CPACK_PACKAGING_INSTALL_PREFIX@/bin/imageclient

%changelog
* Wed Feb 18 2014 Mihael Koep <mihael.koep@softwareschneiderei.de> 2.1.0-1
- marker synchronisation with tango device added
- improved marker editing dialog
- draw marker ROI if set
* Tue Apr 30 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 2.0.2-1
- change marker size feature added
- bugfixes and stability improvements
- reintroduction of command line features
* Tue Apr 23 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 2.0.1-1
- use newest sources from Georgii
* Tue Apr 16 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 2.0.0-1
- use newest sources from Georgii and build/package them with CMake
* Tue Mar 5 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 1.0.0-4
- fix runtime dependency to Qt4 (libqt4)
* Tue Mar 5 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 1.0.0-3
- add Qt4 libraries to the linker flags
* Tue Mar 5 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 1.0.0-2
- Add runtime requirements
* Tue Mar 5 2013 Mihael Koep <mihael.koep@softwareschneiderei.de> 1.0.0-1
- First CPack package version
